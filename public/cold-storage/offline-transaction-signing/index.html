<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Unofficial Monero Documentation"><meta name=author content="Piotr 'Qertoip' Włodarek"><link href=https://monerodocs.org/cold-storage/offline-transaction-signing/ rel=canonical><link rel="shortcut icon" href=../../assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.5"><title>Offline Transaction Signing - Monero Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.15aa0b43.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.75751829.min.css><meta name=theme-color content=#ffffff><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../overrides.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=white data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#offline-transaction-signing class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://monerodocs.org title="Monero Documentation" class="md-header-nav__button md-logo" aria-label="Monero Documentation"> <img src=../../images/monero.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Monero Documentation </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Offline Transaction Signing </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/monerodocs/md/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> monerodocs/md </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://monerodocs.org title="Monero Documentation" class="md-nav__button md-logo" aria-label="Monero Documentation"> <img src=../../images/monero.svg alt=logo> </a> Monero Documentation </label> <div class=md-nav__source> <a href=https://github.com/monerodocs/md/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> monerodocs/md </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Interacting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Interacting data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Interacting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../interacting/download-monero-binaries/ class=md-nav__link> Download </a> </li> <li class=md-nav__item> <a href=../../interacting/verify-monero-binaries/ class=md-nav__link> Verify </a> </li> <li class=md-nav__item> <a href=../../interacting/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-config-file/ class=md-nav__link> Config file </a> </li> <li class=md-nav__item> <a href=../../interacting/monerod-reference/ class=md-nav__link> monerod </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-wallet-cli-reference/ class=md-nav__link> monero-wallet-cli </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-wallet-gui-reference/ class=md-nav__link> monero-wallet-gui </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-wallet-rpc-reference/ class=md-nav__link> monero-wallet-rpc </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-blockchain-export-reference/ class=md-nav__link> monero-blockchain-export </a> </li> <li class=md-nav__item> <a href=../../interacting/monero-blockchain-import-reference/ class=md-nav__link> monero-blockchain-import </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../technical-specs/ class=md-nav__link> Technical specs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Cryptography <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cryptography data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Cryptography </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cryptography/introduction/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> Asymmetric <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Asymmetric data-md-level=2> <label class=md-nav__title for=nav-4-2> <span class="md-nav__icon md-icon"></span> Asymmetric </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cryptography/asymmetric/introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../cryptography/asymmetric/private-key/ class=md-nav__link> Private keys </a> </li> <li class=md-nav__item> <a href=../../cryptography/asymmetric/public-key/ class=md-nav__link> Public keys </a> </li> <li class=md-nav__item> <a href=../../cryptography/asymmetric/edwards25519/ class=md-nav__link> Edwards25519 curve </a> </li> <li class=md-nav__item> <a href=../../cryptography/asymmetric/key-image/ class=md-nav__link> Key image </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../cryptography/base58/ class=md-nav__link> Base58 </a> </li> <li class=md-nav__item> <a href=../../cryptography/prng/ class=md-nav__link> PRNG </a> </li> <li class=md-nav__item> <a href=../../cryptography/keccak-256/ class=md-nav__link> Keccak-256 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Address <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Address data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Address </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../public-address/standard-address/ class=md-nav__link> Standard </a> </li> <li class=md-nav__item> <a href=../../public-address/subaddress/ class=md-nav__link> Subaddress </a> </li> <li class=md-nav__item> <a href=../../public-address/integrated-address/ class=md-nav__link> Integrated </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Proof of Work <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Proof of Work" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> Proof of Work </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../proof-of-work/what-is-pow/ class=md-nav__link> What is PoW? </a> </li> <li class=md-nav__item> <a href=../../proof-of-work/pow-in-cryptocurrencies/ class=md-nav__link> PoW in Cryptocurrencies </a> </li> <li class=md-nav__item> <a href=../../proof-of-work/cryptonight/ class=md-nav__link> CryptoNight </a> </li> <li class=md-nav__item> <a href=../../proof-of-work/random-x/ class=md-nav__link> RandomX </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../multisignature/ class=md-nav__link> Multisignature </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Infrastructure <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Infrastructure data-md-level=1> <label class=md-nav__title for=nav-8> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../infrastructure/networks/ class=md-nav__link> Mainnet, stagenet, testnet </a> </li> <li class=md-nav__item> <a href=../../infrastructure/tor-onion-p2p-seed-nodes/ class=md-nav__link> Tor onion seed nodes </a> </li> <li class=md-nav__item> <a href=../../infrastructure/monero-pulse/ class=md-nav__link> MoneroPulse </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> Running a Node <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Running a Node" data-md-level=1> <label class=md-nav__title for=nav-9> <span class="md-nav__icon md-icon"></span> Running a Node </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../running-node/open-node-tor-onion/ class=md-nav__link> Open Node + Tor Onion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-10 type=checkbox id=nav-10 checked> <label class=md-nav__link for=nav-10> Cold storage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cold storage" data-md-level=1> <label class=md-nav__title for=nav-10> <span class="md-nav__icon md-icon"></span> Cold storage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Offline Transaction Signing <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Offline Transaction Signing </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#creating-a-new-offline-wallet class=md-nav__link> Creating a new offline wallet </a> </li> <li class=md-nav__item> <a href=#creating-a-new-offline-wallet-with-seed-offset-passphrase class=md-nav__link> Creating a new offline wallet with seed offset passphrase </a> </li> <li class=md-nav__item> <a href=#creating-a-new-view-only-wallet class=md-nav__link> Creating a new view-only wallet </a> </li> <li class=md-nav__item> <a href=#launching-offline-wallet class=md-nav__link> Launching offline wallet </a> </li> <li class=md-nav__item> <a href=#launching-a-view-only-wallet class=md-nav__link> Launching a view-only wallet </a> </li> <li class=md-nav__item> <a href=#offline-transaction-signing_1 class=md-nav__link> Offline transaction signing </a> </li> <li class=md-nav__item> <a href=#updating-wallet-software-on-an-offline-signing-machine class=md-nav__link> Updating wallet software on an offline signing machine </a> </li> <li class=md-nav__item> <a href=#restoring-offline-wallet class=md-nav__link> Restoring offline wallet </a> </li> <li class=md-nav__item> <a href=#restoring-view-only-wallet class=md-nav__link> Restoring view-only wallet </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> Accepting Monero <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Accepting Monero" data-md-level=1> <label class=md-nav__title for=nav-11> <span class="md-nav__icon md-icon"></span> Accepting Monero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../accepting-monero/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#creating-a-new-offline-wallet class=md-nav__link> Creating a new offline wallet </a> </li> <li class=md-nav__item> <a href=#creating-a-new-offline-wallet-with-seed-offset-passphrase class=md-nav__link> Creating a new offline wallet with seed offset passphrase </a> </li> <li class=md-nav__item> <a href=#creating-a-new-view-only-wallet class=md-nav__link> Creating a new view-only wallet </a> </li> <li class=md-nav__item> <a href=#launching-offline-wallet class=md-nav__link> Launching offline wallet </a> </li> <li class=md-nav__item> <a href=#launching-a-view-only-wallet class=md-nav__link> Launching a view-only wallet </a> </li> <li class=md-nav__item> <a href=#offline-transaction-signing_1 class=md-nav__link> Offline transaction signing </a> </li> <li class=md-nav__item> <a href=#updating-wallet-software-on-an-offline-signing-machine class=md-nav__link> Updating wallet software on an offline signing machine </a> </li> <li class=md-nav__item> <a href=#restoring-offline-wallet class=md-nav__link> Restoring offline wallet </a> </li> <li class=md-nav__item> <a href=#restoring-view-only-wallet class=md-nav__link> Restoring view-only wallet </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/monerodocs/md/edit/master/docs/cold-storage/offline-transaction-signing.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=offline-transaction-signing>Offline Transaction Signing<a class=headerlink href=#offline-transaction-signing title="Permanent link">&para;</a></h1> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This is <strong>NOT</strong> necessarily the recommended cold storage setup, due to high complexity, large room for errors and employing a general purpose computer for transaction signing (even if offline).</p> <p>Published for educational purposes only to understand "what would it take to sign offline".</p> <p>It is generally better to use a hardware wallet like Trezor or Ledger.</p> <p>Opinions may vary.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This is a guest tutorial contributed by <a href=https://github.com/crocket>crocket</a>.</p> </div> <p>Offline transaction signing involves:</p> <ul> <li>Creating an unsigned transaction on an online, view-only wallet</li> <li>Moving the unsigned transaction to an offline machine</li> <li>Signing the unsigned transaction on an offline machine</li> <li>Moving the signed transaction back to online, view-only wallet</li> <li>Broadcasting the transaction</li> </ul> <h2 id=creating-a-new-offline-wallet>Creating a new offline wallet<a class=headerlink href=#creating-a-new-offline-wallet title="Permanent link">&para;</a></h2> <p>Constructing a new offline wallet is done by executing:</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --generate-new-wallet /path/to/wallet-file
</code></pre></div> <p>on an offline machine. Record the seed on paper by executing <code>seed</code> on the offline wallet.</p> <h2 id=creating-a-new-offline-wallet-with-seed-offset-passphrase>Creating a new offline wallet with seed offset passphrase<a class=headerlink href=#creating-a-new-offline-wallet-with-seed-offset-passphrase title="Permanent link">&para;</a></h2> <p>Seed and seed offset passphrase combine to create a new seed. You can store seed and seed offset passphrase in separate places so that a thief can't steal your fund without stealing seed and seed offset passphrase. I recommend 6 to 8 (english) words as a seed offset passphrase as one english word has 11 bits of entropy on average and 8 words have 88 bits of entropy. With seed passphrase, you can also create decoy wallets that contain a little bit of money and can protect you from torturers or blackmailers who demand money from you.</p> <p>If you want to create an offline wallet with seed and seed passphrase, create an offline wallet, record the seed on paper, delete the wallet file, generate seed offset passphrase, record seed offset passphrase on paper, and execute</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --generate-new-wallet /path/to/wallet-file \
---restore-deterministic-wallet
</code></pre></div> <p>to restore from seed and seed offset passphrase. When you restore from seed, you can enter seed offset passphrase.</p> <p>Generate seed offset passphrase on an offline machine or with diceware because humans are bad at creating random passphrases.</p> <p>If you want to reconstruct an existing offline wallet that received or sent transactions, you need extra steps. Refer to <code>Restoring offline wallet</code>.</p> <h2 id=creating-a-new-view-only-wallet>Creating a new view-only wallet<a class=headerlink href=#creating-a-new-view-only-wallet title="Permanent link">&para;</a></h2> <p>To create a view-only wallet, copy primary address and secret view key from an offline wallet to an online machine where a view-only wallet is going to be created. You can get primary address by executing <code>address</code> on an offline wallet and secret view key by executing <code>viewkey</code> on the offline wallet.</p> <p>You can use a microSD card and two USB microSD card readers to exchange data between an offline wallet and a view-only wallet. You can also use a USB flash drive.</p> <p>To create a view-only wallet on an online machine, execute</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --generate-from-view-key /path/to/wallet-file \
--daemon-address remote-node-address:port
</code></pre></div> <p>If you want to reconstruct an existing view-only wallet that received or sent transactions, refer to <code>Restoring view-only wallet</code>.</p> <h2 id=launching-offline-wallet>Launching offline wallet<a class=headerlink href=#launching-offline-wallet title="Permanent link">&para;</a></h2> <p>Execute</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --wallet-file /path/to/wallet-file
</code></pre></div> <h2 id=launching-a-view-only-wallet>Launching a view-only wallet<a class=headerlink href=#launching-a-view-only-wallet title="Permanent link">&para;</a></h2> <p>Execute</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --wallet-file /path/to/wallet-file \
--daemon-address remote-node-address:port
</code></pre></div> <p>It's safe to sync your wallet over clearnet. If you want to broadcast a transaction without revealing your IP address, execute</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --wallet-file /path/to/wallet-file \
--daemon-address tor-or-i2p-remote-node-address:port \
--proxy 127.0.0.1:tor-or-i2p-port
</code></pre></div> <p>Synchronizing wallet over clearnet is a lot faster than doing it on tor or i2p. Thus, consider synchronizing over clearnet even if you broadcast transactions over tor or i2p.</p> <h2 id=offline-transaction-signing_1>Offline transaction signing<a class=headerlink href=#offline-transaction-signing_1 title="Permanent link">&para;</a></h2> <p>Execute any wallet command that transfers monero to any address. For example,</p> <div class=highlight><pre><span></span><code>transfer xmr-address amount-of-xmr-to-send
</code></pre></div> <p>Any transfer command on a view-only wallet creates <code>unsigned_monero_tx</code> in the current working directory.</p> <p>Move <code>unsigned_monero_tx</code> to an offline machine that has an offline wallet. Execute</p> <div class=highlight><pre><span></span><code>sign_transfer
</code></pre></div> <p>on the offline wallet in the directory with <code>unsigned_monero_tx</code>. <code>signed_monero_tx</code> file is created in the current working directory. Move <code>signed_monero_tx</code> to the online machine with a view-only wallet. In the directory with <code>signed_monero_tx</code>, launch the view-only wallet, and execute</p> <div class=highlight><pre><span></span><code>submit_transfer
</code></pre></div> <p>Because a view-only wallet doesn't have key images, it can't see outgoing transactions. To make a view-only wallet see outgoing transactions, it has to export new outputs created by <code>submit_transfer</code> to an offline wallet which creates key images out of new outputs.</p> <p>Execute</p> <div class=highlight><pre><span></span><code>export_outputs outputs
</code></pre></div> <p>on a view-only wallet. Move <code>outputs</code> file to the offline machine with an offline wallet. Launch the offline wallet, and execute</p> <div class=highlight><pre><span></span><code>import_outputs /path/to/outputs
</code></pre></div> <p>Export key images derived from new outputs by executing</p> <div class=highlight><pre><span></span><code>export_key_images key_images
</code></pre></div> <p>on an offline wallet. Move <code>key_images</code> file to the machine with a view-only wallet. Launch the view-only wallet, and execute</p> <div class=highlight><pre><span></span><code>import_key_images /path/to/key_images
</code></pre></div> <h2 id=updating-wallet-software-on-an-offline-signing-machine>Updating wallet software on an offline signing machine<a class=headerlink href=#updating-wallet-software-on-an-offline-signing-machine title="Permanent link">&para;</a></h2> <p>When you update an offline machine with offline wallets, you can't just connect the machine to the internet and update wallet software because doing so exposes offline wallets to the internet.</p> <p>Instead, boot OS installation media, wipe filesystems, and then connect to the internet, and install everything from scratch again.</p> <p>If your root filesystem is encrypted, OS installation media can connect to the internet from the beginning because encrypted data are safe until they are decrypted.</p> <h2 id=restoring-offline-wallet>Restoring offline wallet<a class=headerlink href=#restoring-offline-wallet title="Permanent link">&para;</a></h2> <p>After updating wallet software on an offline signing machine by wiping it out and reinstalling everything, you have to restore offline wallet.</p> <p>Restore an offline wallet from seed (and seed offset passphrase) by executing</p> <div class=highlight><pre><span></span><code>monero-wallet-cli --generate-new-wallet wallet-file --restore-deterministic-wallet
</code></pre></div> <p>The new offline wallet can't sign new transactions because it doesn't have all trasaction outputs that precede a new unsigned transaction. Thus, it first has to import all outputs from a view-only wallet.</p> <p>On a view-only wallet that was derived from the offline wallet, execute</p> <div class=highlight><pre><span></span><code>export_outputs all all_outputs
</code></pre></div> <p><code>all</code> is important because <code>export_outputs</code> exports only new outputs that weren't exported before, but</p> <div class=highlight><pre><span></span><code>export_outputs all
</code></pre></div> <p>exports all outputs. Move <code>all_outputs</code> file to the offline machine with the offline wallet. Execute</p> <div class=highlight><pre><span></span><code>import_outputs /path/to/all_outputs
</code></pre></div> <p>on the new offline wallet.</p> <h2 id=restoring-view-only-wallet>Restoring view-only wallet<a class=headerlink href=#restoring-view-only-wallet title="Permanent link">&para;</a></h2> <p>If you reconstruct view-only wallet, because it doesn't have key images, it can't see outgoing transactions. If it can't see outgoing transactions, it reports wrong account balances. Thus, it has to import all key images from its corresponding offline wallet.</p> <p>On the offline wallet, execute</p> <div class=highlight><pre><span></span><code>export_key_images all all_key_images
</code></pre></div> <p><code>export_key_images</code> doesn't work because it exports only new key images that weren't exported before.</p> <div class=highlight><pre><span></span><code>export_key_images all
</code></pre></div> <p>exports all key images. Move <code>all_key_images</code> file to the machine with the view-only wallet. Execute</p> <div class=highlight><pre><span></span><code>import_key_images /path/to/all_key_images
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../running-node/open-node-tor-onion/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Open Node + Tor Onion </div> </div> </a> <a href=../../accepting-monero/overview/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Overview </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright style="margin: auto;"> <a href=http://bumz4sduzxzlobbgzy5fiufdflg3mo2jyecdwdx5rphrqldms7wlmiid.onion/ >Tor onion version</a> &nbsp; | &nbsp; <a href=https://qertoip.com/ >contact</a> &nbsp; | &nbsp; © 2021 MoneroDocs under <a href=https://opensource.org/licenses/MIT>MIT</a> &nbsp; | &nbsp; built w/ <a href=https://www.mkdocs.org/ >mkdocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ >squidfunk/material</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.93c04032.min.js></script> <script src=../../assets/javascripts/bundle.83e5331e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script data-goatcounter=https://gc.monerodocs.org/count async src=https://gc.monerodocs.org/count.js></script> </body> </html>